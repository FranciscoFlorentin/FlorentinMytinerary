(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(2),i=n(27),a=n.n(i),s=(n(79),n(80),n(29)),o=n(28),u=n(6),l=n(0),j=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("footer",{children:[Object(r.jsx)("div",{style:{width:"100%"},children:Object(r.jsxs)("div",{className:"footerDiv0",children:[Object(r.jsx)("div",{className:"footerDiv1",children:Object(r.jsxs)("div",{className:"navFooter",children:[Object(r.jsx)(u.c,{exact:!0,to:"/",style:{color:"black"},children:Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"Home"})})}),Object(r.jsx)(u.c,{to:"/cities",style:{color:"black"},children:Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"Cities"})})})]})}),Object(r.jsx)("div",{className:"footerDiv1",children:Object(r.jsx)("div",{className:"footerRedes",children:Object(r.jsxs)(l.b.Provider,{value:{color:"#2dc0da",size:"2rem",className:"iconosFooter"},children:[Object(r.jsx)(s.a,{}),Object(r.jsx)(s.d,{}),Object(r.jsx)(s.b,{}),Object(r.jsx)(o.b,{}),Object(r.jsx)(s.c,{})]})})})]})}),Object(r.jsx)("div",{className:"footerText",children:Object(r.jsx)("p",{children:"Copyright \xa9 2021 MYtinerary. All Rights Reserved"})})]})})},d=n(7),b=n(45),p=n.n(b),m=n(46),h=n.n(m),O=[[{ciudad:"Paris",dir:"./assets/paris.jpg"},{ciudad:"Montevideo",dir:"./assets/Montevideo.jpg"},{ciudad:"Sao Paulo",dir:"./assets/Sao Paulo.jpg"},{ciudad:"Cartagena",dir:"./assets/Cartagena.jpg"}],[{ciudad:"\xc1msterdam",dir:"./assets/amsterdam.jpg"},{ciudad:"Lisbon",dir:"./assets/Lisboa.jpg"},{ciudad:"Rome",dir:"./assets/roma.jpg"},{ciudad:"Prague",dir:"./assets/praga.jpg"}],[{ciudad:"Seoul",dir:"./assets/seul.jpg"},{ciudad:"Shenzhen",dir:"./assets/shenzhen.jpg"},{ciudad:"Bangkok",dir:"./assets/bangkok.jpg"},{ciudad:"Beijing",dir:"./assets/pekin.jpg"}]],x=function(){var e=Object(c.useState)(0),t=Object(d.a)(e,2),n=t[0],i=t[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h4",{className:"tituloCar",children:"Popular Itineraries"}),Object(r.jsxs)("div",{className:"car1",children:[Object(r.jsx)("button",{onClick:0!==n?function(){return i(n-1)}:function(){return i(2)},children:Object(r.jsx)(p.a,{})}),Object(r.jsx)("div",{className:"car2 ",children:O[n].map((function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"fotos1",children:Object(r.jsx)("div",{className:"fotos2 ",style:{backgroundImage:'url("'.concat(e.dir,'")')},children:Object(r.jsx)("div",{className:"nombreCiudad",children:e.ciudad})},e.ciudad)})})}))}),Object(r.jsx)("button",{onClick:2!==n?function(){return i(n+1)}:function(){return i(0)},children:Object(r.jsx)(h.a,{})})]})]})},f=n(11),g=n(5),y=n(4),v=n.n(y),N=n(8),C=n(14),I=n.n(C),k={userRegister:function(e){return function(){var t=Object(N.a)(v.a.mark((function t(n,r){var c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("https://mytinerary-florentin.herokuapp.com/api/user/register",e);case 2:if((c=t.sent).data.sucess){t.next=5;break}return t.abrupt("return",c.data);case 5:n({type:"LOG_IN",payload:c.data});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(N.a)(v.a.mark((function t(n,r){var c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("https://mytinerary-florentin.herokuapp.com/api/user/login",e);case 2:if(!(c=t.sent)||c.data.sucess){t.next=5;break}return t.abrupt("return",c.data);case 5:n({type:"LOG_IN",payload:c.data});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},logInLS:function(e){return function(){var t=Object(N.a)(v.a.mark((function t(n,r){var c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.post("https://mytinerary-florentin.herokuapp.com/api/user/loginLS",{token:e},{headers:{Authorization:"Bearer ".concat(e)}});case 3:(c=t.sent).data.sucess&&n({type:"LOG_IN",payload:{response:Object(g.a)({},c.data.response)}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),401===t.t0.response.status&&(alert("Access denied"),localStorage.clear());case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},logOut:function(){return function(e,t){e({type:"LOG_OUT"})}}},w=n(58),S={logOut:k.logOut},R=Object(f.b)((function(e){return{loggedUser:e.userReducer.loggedUser}}),S)((function(e){var t=e.loggedUser,n=e.logOut,i=Object(c.useState)(!1),a=Object(d.a)(i,2),s=a[0],o=a[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"divHeader",children:[Object(r.jsxs)("div",{id:"logoTitulo",children:[Object(r.jsx)("div",{className:"logo",style:{backgroundImage:'url("../assets/1.png")'}}),Object(r.jsx)("div",{id:"titulo",children:Object(r.jsx)(u.b,{to:"/",children:Object(r.jsx)("h1",{className:"tituloLogo",children:"MYtinerary"})})})]}),Object(r.jsxs)("div",{className:"headerUserPic",children:[t&&Object(r.jsx)("div",{className:"fotoUsuario",style:{backgroundImage:'url("'.concat(t.pic,'")')}}),null===t&&Object(r.jsx)("div",{className:"fotoUsuario",style:{backgroundImage:'url("../assets/no-usuario.png")'}})]}),Object(r.jsx)("nav",{id:"nav1",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)(u.c,{exact:!0,to:"/",children:Object(r.jsx)("p",{children:"Home"})}),Object(r.jsx)(u.c,{to:"/cities",children:Object(r.jsx)("p",{children:"Cities"})}),null===t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.c,{to:"/logIn",children:Object(r.jsx)("p",{children:"Log In"})}),Object(r.jsx)(u.c,{to:"/register",children:Object(r.jsx)("p",{children:"Sign Up"})})]}):Object(r.jsx)(u.b,{to:"#",onClick:n,children:Object(r.jsx)("p",{children:"Log Out"})})]})}),Object(r.jsx)("nav",{id:"nav2",children:Object(r.jsx)(w.a,{toggled:s,toggle:o,direction:"right",easing:"ease-in"})})]}),s&&Object(r.jsx)("div",{id:"nav3",children:Object(r.jsxs)("div",{id:"nav4",children:[Object(r.jsxs)("div",{className:"headerUserPic1",children:[t&&Object(r.jsx)("div",{className:"fotoUsuario",style:{backgroundImage:'url("'.concat(t.pic,'")')}}),null===t&&Object(r.jsx)("div",{className:"fotoUsuario",style:{backgroundImage:'url("../assets/no-usuario.png")'}})]}),Object(r.jsx)("nav",{id:"nav1Responsive",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)(u.c,{exact:!0,to:"/",children:Object(r.jsx)("p",{children:"Home"})}),Object(r.jsx)(u.c,{to:"/cities",children:Object(r.jsx)("p",{children:"Cities"})}),null===t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.c,{to:"/logIn",children:Object(r.jsx)("p",{children:"Log In"})}),Object(r.jsx)(u.c,{to:"/register",children:Object(r.jsx)("p",{children:"Sign Up"})})]}):Object(r.jsx)(u.b,{to:"#",onClick:n,children:Object(r.jsx)("p",{children:"Log Out"})})]})})]})})]})})),U=function(){return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("header",{style:{height:"50vh",backgroundImage:'url("../assets/Balooning-in-Cappadocia-1.jpg")',backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPositionY:"45%"},children:[Object(r.jsx)(R,{}),Object(r.jsx)("div",{id:"headerDiv",children:Object(r.jsx)("div",{id:"callToAction",children:Object(r.jsx)(u.b,{to:"/cities",children:Object(r.jsx)("h2",{children:"EXPLORE CITIES"})})})})]}),Object(r.jsx)("section",{className:"container",children:Object(r.jsx)(x,{})})]})},E=n(48),P=n(49),F=n(59),T=n(57),L=function(e){Object(F.a)(n,e);var t=Object(T.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"city1",children:Object(r.jsx)(u.b,{to:"/cities/".concat(this.props.city._id),children:Object(r.jsx)("div",{style:{backgroundImage:'url("'.concat(this.props.city.cityPic,'")')},children:Object(r.jsx)("h5",{children:this.props.city.cityName})})})})})}}]),n}(c.Component),_=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"loader",children:Object(r.jsx)("lottie-player",{src:"https://assets7.lottiefiles.com/packages/lf20_wofwoz8o.json",background:"transparent",speed:"1",style:{width:"30vw",height:"30vh"},loop:!0,autoplay:!0})})})},A=n(10),D=n.n(A),B={getCities:function(){return function(){var e=Object(N.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.a.get("https://mytinerary-florentin.herokuapp.com/api/cities").then((function(e){return t({type:"ALL_CITIES",payload:e.data.response})})).catch((function(e){return D.a.fire({icon:"error",title:"Oops...",text:e})}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},getFilterCities:function(e){return function(){var t=Object(N.a)(v.a.mark((function t(n,r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n({type:"FILTERED_CITIES",payload:e}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},addCity:function(e){return function(){var t=Object(N.a)(v.a.mark((function t(n,r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I.a.post("https://mytinerary-florentin.herokuapp.com/api/cities",e).then((function(e){return n({type:"ADD_CITY",payload:e.data.sucess})})).catch((function(e){return D.a.fire({icon:"error",title:"Oops...",text:e})}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},Y={allCities:B.getCities,filterCities:B.getFilterCities},z=Object(f.b)((function(e){return{cities:e.cityReducer.cities,citiesFiltered:e.cityReducer.filteredCities}}),Y)((function(e){return Object(c.useEffect)((function(){e.citiesFiltered&&e.filterCities(""),0===e.cities.length&&e.allCities(),window.scrollTo(0,0)}),[]),0===e.cities.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(R,{}),Object(r.jsx)(_,{})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(R,{}),Object(r.jsxs)("section",{className:"sectionCities",children:[Object(r.jsx)("div",{id:"inputCities",children:Object(r.jsx)("input",{type:"text",placeholder:"Search city",onChange:function(t){return e.filterCities(t.target.value)}})}),0===e.citiesFiltered.length?Object(r.jsx)("div",{className:"cityNotFound",style:{backgroundImage:'url("./assets/city404.jpg")'},children:Object(r.jsx)("h3",{children:"City not found, try another."})}):e.citiesFiltered.map((function(e){return Object(r.jsx)(L,{city:e},e._id)}))]})]})})),G=n(54),W=n.n(G),H=n(55),M=n.n(H),V=n(50),q=n.n(V),J=n(52),X=n.n(J),K=function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"activity",children:[Object(r.jsx)("div",{className:"activityImg",style:{backgroundImage:'url("../assets/activities/'.concat(e.activity.activityPic,'")')}}),Object(r.jsx)("div",{className:"activityName",children:e.activity.activityName})]})})},Q=function(e){return Object(r.jsxs)("div",{className:"activities",children:[e.activities.map((function(e){return Object(r.jsx)(K,{activity:e},e.activitieName)})),0===e.activities.length&&Object(r.jsx)("div",{style:{backgroundImage:"url('../assets/notItineraries.png')",backgroundSize:"cover",height:"100%",width:"100%"},children:Object(r.jsx)("h2",{style:{textAlign:"center",paddingTop:"5vh"},children:"Not activities yet :( "})})]})},Z={getItinerariesByCityId:function(e){return function(){var t=Object(N.a)(v.a.mark((function t(n,r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I.a.get("https://mytinerary-florentin.herokuapp.com/api/itineraries/by_city/".concat(e)).then((function(e){return n({type:"ITINERARIES_BY_CITY",payload:e.data.response})})).catch((function(e){return D.a.fire({icon:"error",title:"Oops...",text:e})}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},addComment:function(e,t){return function(){var n=Object(N.a)(v.a.mark((function n(r,c){var i;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.a.put("https://mytinerary-florentin.herokuapp.com/api/itinerary/addComment/".concat(t),{userComment:e},{headers:{Authorization:"Bearer ".concat(c().userReducer.loggedUser.token)}});case 2:if(!(i=n.sent)){n.next=8;break}return r({type:"UPDATE_ITINERARIES",payload:i.data.response}),n.abrupt("return",i.data.response);case 8:console.log(i);case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},deleteComment:function(e,t){return function(){var n=Object(N.a)(v.a.mark((function n(r,c){var i;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.a.put("https://mytinerary-florentin.herokuapp.com/api/itinerary/deleteComment/".concat(t),{commentToDelete:e},{headers:{Authorization:"Bearer ".concat(c().userReducer.loggedUser.token)}});case 2:if(!(i=n.sent)){n.next=8;break}return r({type:"UPDATE_ITINERARIES",payload:i.data.response}),n.abrupt("return",i.data.response);case 8:console.log(i);case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},editComment:function(e,t,n){return function(){var r=Object(N.a)(v.a.mark((function r(c,i){var a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,I.a.put("https://mytinerary-florentin.herokuapp.com/api/itinerary/editComment/".concat(n),{comment:e,editedComment:t},{headers:{Authorization:"Bearer ".concat(i().userReducer.loggedUser.token)}});case 2:if(!(a=r.sent)){r.next=8;break}return c({type:"UPDATE_ITINERARIES",payload:a.data.response}),r.abrupt("return",a.data.response);case 8:console.log(a);case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},itineraryLiked:function(e){return function(){var t=Object(N.a)(v.a.mark((function t(n,r){var c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r().userReducer.loggedUser){t.next=10;break}return t.next=3,I.a.put("https://mytinerary-florentin.herokuapp.com/api/itinerary/likes/".concat(e),{},{headers:{Authorization:"Bearer ".concat(r().userReducer.loggedUser.token)}});case 3:if(!(c=t.sent)){t.next=9;break}return n({type:"UPDATE_ITINERARIES",payload:c.data.response}),t.abrupt("return",c.data.response);case 9:alert("You must logged");case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},$={deleteComment:Z.deleteComment,editComment:Z.editComment},ee=Object(f.b)((function(e){return{loggedUser:e.userReducer.loggedUser}}),$)((function(e){var t=e.comment,n=e.deleteComment,i=e.editComment,a=e.itineraryId,s=e.setItinerary,u=e.loggedUser,l=Object(c.useState)(!1),j=Object(d.a)(l,2),b=j[0],p=j[1],m=Object(c.useState)(t.userComment),h=Object(d.a)(m,2),O=h[0],x=h[1],f=function(){var e=Object(N.a)(v.a.mark((function e(r){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,n(t,a);case 3:c=e.sent,s(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(N.a)(v.a.mark((function e(n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,i(t,O,a);case 3:r=e.sent,s(r),p(!b),x("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"comment",children:[Object(r.jsx)("div",{className:"userPic",style:{backgroundImage:'url("'.concat(t.userPic,'")')}}),Object(r.jsxs)("div",{className:"comment1",children:[Object(r.jsxs)("div",{className:"userName",children:[t.userName," says:"]}),b&&Object(r.jsx)("div",{className:"userComment",children:Object(r.jsxs)("form",{onSubmit:g,children:[Object(r.jsx)("input",{type:"text",defaultValue:t.userComment,onChange:function(e){return x(e.target.value)}}),Object(r.jsx)("button",{onClick:function(){return p(!b)},children:"Cancel"}),Object(r.jsx)("button",{type:"submit",children:"Confirm"})]})}),Object(r.jsxs)("div",{className:"userComment",children:[!b&&Object(r.jsx)("div",{className:"userComment",children:t.userComment}),u&&u.id===t._id&&!b&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:f,children:Object(r.jsx)(o.c,{})}),Object(r.jsx)("button",{onClick:function(){return p(!b)},children:Object(r.jsx)(o.a,{})})]})]})]})]})})),te=n(51),ne=n.n(te),re=n(53),ce={addComment:Z.addComment,itineraryLiked:Z.itineraryLiked},ie=Object(f.b)((function(e){return{loggedUser:e.userReducer.loggedUser,update:e.itineraryReducer.update}}),ce)((function(e){var t=e.loggedUser,n=e.addComment,i=e.update,a=e.itinerary1,s=e.itineraryLiked,o=Object(c.useState)(!1),u=Object(d.a)(o,2),l=u[0],j=u[1],b=Object(c.useState)(""),p=Object(d.a)(b,2),m=p[0],h=p[1],O=Object(c.useState)(a),x=Object(d.a)(O,2),f=x[0],g=x[1],y=Object(c.useState)(null),C=Object(d.a)(y,2),I=C[0],k=C[1];Object(c.useEffect)((function(){t&&f.userLikes.find((function(e){return e===t.id}))?k(!0):k(!1)}),[" ",i]);var w=function(){var e=Object(N.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,s(f._id);case 3:n=e.sent,g(n),k(!I),e.next=9;break;case 8:D.a.fire("You must be logged ");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(N.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(t.target.value),e.next=4,n(m,f._id);case 4:r=e.sent,g(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"itinerary",children:Object(r.jsxs)("div",{className:"itineraryContent",children:[Object(r.jsxs)("div",{className:"itineraryContent1",children:[Object(r.jsx)("div",{className:"itineraryUserImg",style:{backgroundImage:'url("'.concat(f.userPicName,'")')}}),Object(r.jsx)("div",{className:"itineraryUserName",children:f.userName})]}),Object(r.jsxs)("div",{className:"itineraryContent2",children:[Object(r.jsx)("div",{className:"itineraryName",children:Object(r.jsx)("h4",{children:f.itineraryName})}),Object(r.jsx)("div",{className:"itineraryHashtag",children:f.hashtag.map((function(e){return Object(r.jsx)("h6",{children:e})}))}),Object(r.jsx)("div",{className:"viewMoreLess",children:!1===l&&Object(r.jsx)("button",{onClick:function(){return j(!l)},children:"View More"})})]}),Object(r.jsxs)("div",{className:"itineraryContent3",children:[Object(r.jsxs)("div",{className:"likeIcon",children:[!0===I?Object(r.jsx)(q.a,{}):Object(r.jsx)(ne.a,{}),Object(r.jsx)("p",{children:f.likes}),Object(r.jsx)("button",{onClick:w,children:!1===I?Object(r.jsx)("p",{children:"Like"}):Object(r.jsx)("p",{children:"Dislike"})})]}),Object(r.jsxs)("div",{children:["Duration: ",f.duration," h."]}),Object(r.jsxs)("div",{className:"priceIcon",children:[" ",Array(f.price).fill(Object(r.jsx)(X.a,{}))]})]})]})}),!0===l?Object(r.jsxs)("div",{className:"itineraryShowHide",children:[Object(r.jsx)(Q,{activities:f.activities}),Object(r.jsxs)("div",{className:"comments",children:[f.comments.map((function(e){return Object(r.jsx)(ee,{comment:e,itineraryId:f._id,setItinerary:g},e._id)})),0===f.comments.length&&Object(r.jsx)("h2",{style:{textAlign:"center",paddingTop:"5vh"},children:"Not comments yet :( "}),Object(r.jsx)("div",{className:"divInputComment",children:t?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("form",{onSubmit:S,children:[Object(r.jsx)("input",{type:"text",placeholder:"Write a comment",onChange:function(e){e.preventDefault(),h(e.target.value)}}),Object(r.jsx)("button",{type:"submit",children:Object(r.jsx)(re.a,{})})]})}):Object(r.jsx)("input",{type:"text ",disabled:!0,placeholder:"You must logged to comment"})})]}),Object(r.jsx)("div",{className:"itineraryButtons",children:!0===l&&Object(r.jsx)("button",{onClick:function(){return j(!l)},children:"View Less"})})]}):Object(r.jsx)(r.Fragment,{})]}):Object(r.jsx)(_,{})})),ae={getCities:B.getCities,getItinerariesByCityId:Z.getItinerariesByCityId},se=Object(f.b)((function(e){return{cities:e.cityReducer.cities,itinerariesByCity:e.itineraryReducer.itinerariesByCity}}),ae)((function(e){var t=e.getCities,n=e.cities,i=e.itinerariesByCity,a=e.getItinerariesByCityId,s=e.match.params.idCity,o=Object(c.useState)({}),l=Object(d.a)(o,2),j=l[0],b=l[1];return Object(c.useEffect)((function(){0===n.length&&t(),window.scrollTo(0,0),a(s)}),[]),Object(c.useEffect)((function(){b(n.find((function(e){return e._id===s})))}),[n]),j?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(R,{}),Object(r.jsxs)("section",{className:"",children:[Object(r.jsx)("div",{className:"itineraryCity",style:{backgroundImage:'url("'.concat(j.cityPic,'")')},children:Object(r.jsx)("div",{className:"cityTitle",children:Object(r.jsx)("h3",{children:j.cityName})})}),Object(r.jsxs)("div",{className:"container",children:[0===i.length&&Object(r.jsx)("div",{className:"notItineraries",style:{backgroundImage:'url("../assets/notItineraries.png")'},children:Object(r.jsxs)("h3",{children:["We don't have ",Object(r.jsx)("br",{})," itineraries for ",Object(r.jsx)("br",{})," this city yet, ",Object(r.jsx)("br",{}),"  be the first"]})}),i.map((function(e){return Object(r.jsx)(ie,{itinerary1:e},e._id)})),Object(r.jsxs)("div",{className:"itineraryButtons",children:[Object(r.jsx)("button",{children:Object(r.jsx)(u.b,{to:"/cities",children:Object(r.jsx)(W.a,{})})}),Object(r.jsx)("button",{children:Object(r.jsx)(u.b,{to:"/",children:Object(r.jsx)(M.a,{})})})]})]})]})]}):Object(r.jsx)(_,{})})),oe=n(9),ue=n(16),le={addCity:B.addCity},je=Object(f.b)((function(e){return{cities:e.cityReducer.cities,city:e.cityReducer.city,itinerariesByCity:e.itineraryReducer.itinerariesByCity}}),le)((function(e){var t,n=e.addCity,i=Object(c.useState)({cityName:"",cityPic:""}),a=Object(d.a)(i,2),s=a[0],o=a[1],u=Object(c.useState)((t={itineraryName:"",userName:"",userPicName:"",likes:"",duration:"",price:"",idCity:"",activityName:"",activityPic:""},Object(ue.a)(t,"userName",""),Object(ue.a)(t,"userPic",""),Object(ue.a)(t,"userComment",""),t)),l=Object(d.a)(u,2),j=l[0];l[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"admin",children:[Object(r.jsxs)("div",{className:"adminCity",children:[Object(r.jsx)("h3",{children:"CITIES"}),Object(r.jsxs)("div",{className:"formAddCity",children:[Object(r.jsx)("input",{type:"text",placeholder:"Enter new city name",name:"cityName",onChange:function(e){return o(Object(g.a)(Object(g.a)({},s),{},Object(ue.a)({},e.target.name,e.target.value)))}}),Object(r.jsx)("input",{type:"text",placeholder:"Image name (name.jpg)",name:"cityPic",onChange:function(e){return o(Object(g.a)(Object(g.a)({},s),{},Object(ue.a)({},e.target.name,e.target.value)))}}),Object(r.jsx)("button",{onClick:function(e){if(e.preventDefault(),""===s.cityName||""===s.cityPic)return D.a.fire("Fill the fields"),!1;n(s),D.a.fire({position:"top-end",icon:"success",title:"New City Created",showConfirmButton:!1,timer:1500})},children:"ADD NEW CITY"})]})]}),Object(r.jsxs)("div",{className:"adminItinerary",children:[Object(r.jsx)("h3",{children:"ITINERARIES"}),Object(r.jsxs)("div",{className:"formAddItinerary",children:[Object(r.jsx)("input",{type:"text",placeholder:"itineraryName",name:"itineraryName",onChange:function(e){return o(Object(g.a)(Object(g.a)({},j),{},Object(ue.a)({},e.target.name,e.target.value)))}}),Object(r.jsx)("input",{type:"text",placeholder:"userName",name:"userName"}),Object(r.jsx)("input",{type:"text",placeholder:"userPicName",name:"userPicName"}),Object(r.jsx)("input",{type:"number",placeholder:"likes",name:"likes"}),Object(r.jsx)("input",{type:"number",placeholder:"duration",name:"duration"}),Object(r.jsx)("input",{type:"number",placeholder:"price",name:"price"}),Object(r.jsx)("input",{type:"text",placeholder:"idCity",name:"idCity"}),Object(r.jsxs)("form",{name:"activities",children:[Object(r.jsx)("input",{type:"text",placeholder:"activityName",name:"activityName"}),Object(r.jsx)("input",{type:"text",placeholder:"activityPic",name:"activityPic"})]}),Object(r.jsxs)("form",{name:"comments",children:[Object(r.jsx)("input",{type:"text",placeholder:"userName",name:"userName"}),Object(r.jsx)("input",{type:"text",placeholder:"userPic",name:"userPic"}),Object(r.jsx)("input",{type:"text",placeholder:"userComment",name:"userComment"})]}),Object(r.jsx)("button",{onClick:function(e){e.preventDefault()},children:"ADD NEW ITINERARY"})]})]})]})})})),de=n(31),be=n.n(de),pe={logIn:k.logIn},me=Object(f.b)(null,pe)((function(e){var t=e.logIn,n=Object(c.useState)({userName:"",password:""}),i=Object(d.a)(n,2),a=i[0],s=i[1],o=Object(c.useState)([]),l=Object(d.a)(o,2),j=l[0],b=l[1],p=function(e){e.preventDefault(),s(Object(g.a)(Object(g.a)({},a),{},Object(ue.a)({},e.target.name,e.target.value)))},m=function(){var e=Object(N.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==a.userName&&""!==a.password){e.next=4;break}return D.a.fire("Fill all the fields"),e.abrupt("return",!1);case 4:b([]),t(a).then((function(e){e&&!e.sucess?b([e.response]):D.a.fire("Welcome ".concat(localStorage.getItem("name")))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(N.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.error?D.a.fire({icon:"error",text:"Something went wrong, try later!"}):t({userName:n.profileObj.email,password:n.profileObj.googleId}).then((function(e){e&&!e.sucess?b([e.response]):D.a.fire("Welcome ".concat(n.profileObj.givenName.split(" ").slice(0,-1).join(" ")))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(R,{}),Object(r.jsx)("div",{className:"register",children:Object(r.jsxs)("div",{className:"loginForm",children:[Object(r.jsx)("h2",{children:"Log In"}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"text",placeholder:"username",name:"userName",onChange:p})}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"password",placeholder:"password",name:"password",onChange:p})}),Object(r.jsx)("button",{onClick:m,children:"Login"}),Object(r.jsx)(be.a,{clientId:"185568068022-0qfhsg5ndsthf6m15vt3jb4vo5blbami.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:h,onFailure:h,cookiePolicy:"single_host_origin"}),Object(r.jsx)("div",{className:"errorsDiv",children:j.map((function(e){return Object(r.jsx)("p",{children:e})}))}),Object(r.jsx)("div",{children:Object(r.jsx)(u.b,{to:"/register",children:Object(r.jsx)("p",{children:"Don't have an account yet?  Sign Up"})})})]})})]})})),he={userRegister:k.userRegister},Oe=Object(f.b)(null,he)((function(e){var t=e.userRegister,n=Object(c.useState)([]),i=Object(d.a)(n,2),a=i[0],s=i[1],o=Object(c.useState)([]),l=Object(d.a)(o,2),j=l[0],b=l[1],p=Object(c.useState)({userName:"",firstName:"",password:"",lastName:"",userPic:"",countryName:"",countryPic:"",googleUser:!1}),m=Object(d.a)(p,2),h=m[0],O=m[1];Object(c.useEffect)((function(){I.a.get("https://restcountries.eu/rest/v2/all").then((function(e){return s(e.data)})).catch((function(e){return D.a.fire({icon:"error",text:"Something went wrong, try later!"})}))}),[]);var x=function(e){e.preventDefault(),O(Object(g.a)(Object(g.a)({},h),{},Object(ue.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(N.a)(v.a.mark((function e(n){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==h.userName&&""!==h.password&&""!==h.firstName&&""!==h.lastName&&""!==h.userPic&&""!==h.countryName){e.next=4;break}return D.a.fire("Fill all the fields"),e.abrupt("return",!1);case 4:return r=a.find((function(e){return e.name===h.countryName})).flag,h.countryPic=r,b([]),e.next=9,t(h);case 9:(c=e.sent)&&!c.sucess?b([c.errors]):D.a.fire("Welcome ".concat(h.firstName));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(N.a)(v.a.mark((function e(n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.error){e.next=4;break}D.a.fire({icon:"error",text:"Something went wrong, try later!"}),e.next=8;break;case 4:return e.next=6,t({userName:n.profileObj.email,firstName:n.profileObj.givenName.split(" ").slice(0,-1).join(" "),password:n.profileObj.googleId,lastName:n.profileObj.givenName.split(" ").slice(-1).join(" "),userPic:n.profileObj.imageUrl,countryName:"default",countryPic:"default.jpg",googleUser:!0});case 6:(r=e.sent)&&!r.sucess?b([r.errors]):D.a.fire("Welcome ".concat(localStorage.getItem("name")));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return 0===a.length?Object(r.jsxs)(r.Fragment,{children:[" ",Object(r.jsx)(R,{}),Object(r.jsx)(_,{})," "]}):(console.log(j),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(R,{}),Object(r.jsx)("div",{className:"register",children:Object(r.jsxs)("div",{className:"registerForm",children:[Object(r.jsx)("h2",{children:"Sign Up"}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"text",placeholder:"Username",name:"userName",onChange:x})}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"password",placeholder:"Password",name:"password",onChange:x})}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"text",placeholder:"First Name",name:"firstName",onChange:x})}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"text",placeholder:"Last Name",name:"lastName",onChange:x})}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"url",placeholder:"Url img",name:"userPic",onChange:x})}),Object(r.jsx)("div",{children:Object(r.jsxs)("select",{name:"countryName",id:"",onChange:x,children:[Object(r.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Country"}),a.map((function(e){return Object(r.jsx)("option",{value:e.name,children:e.name})}))]})}),Object(r.jsx)("button",{onClick:f,children:"Create Account"}),Object(r.jsx)(be.a,{clientId:"185568068022-0qfhsg5ndsthf6m15vt3jb4vo5blbami.apps.googleusercontent.com",buttonText:"Create Account with Google",onSuccess:y,onFailure:y,cookiePolicy:"single_host_origin"}),Object(r.jsx)("div",{className:"errorsDiv",children:j.map((function(e){return Object(r.jsx)("p",{children:e})}))}),Object(r.jsx)("div",{children:Object(r.jsx)(u.b,{to:"/login",children:Object(r.jsx)("p",{children:"You have account?  Log In"})})})]})})]}))}));var xe={logInLS:k.logInLS},fe=Object(f.b)((function(e){return{loggedUser:e.userReducer.loggedUser}}),xe)((function(e){var t=e.loggedUser,n=e.logInLS;return!t&&localStorage.getItem("token")&&n(localStorage.getItem("token")),Object(r.jsx)("div",{children:Object(r.jsxs)(u.a,{children:[Object(r.jsxs)(oe.d,{children:[Object(r.jsx)(oe.b,{exact:!0,path:"/",component:U}),Object(r.jsx)(oe.b,{exact:!0,path:"/cities",component:z}),Object(r.jsx)(oe.b,{path:"/cities/:idCity",component:se}),!t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(oe.b,{path:"/login",component:me}),Object(r.jsx)(oe.b,{path:"/register",component:Oe})]}),t&&Object(r.jsx)(oe.b,{exact:!0,path:"/admin",component:je}),Object(r.jsx)(oe.a,{to:"/"})]}),Object(r.jsx)(j,{})]})})})),ge=n(26),ye=n(56),ve={cities:[],filteredCities:[]},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_CITIES":return Object(g.a)(Object(g.a)({},e),{},{cities:t.payload,filteredCities:t.payload});case"FILTERED_CITIES":return Object(g.a)(Object(g.a)({},e),{},{filteredCities:e.cities.filter((function(e){return 0===e.cityName.toUpperCase().indexOf(t.payload.toUpperCase().trim())}))});case"ADD_CITY":default:return e}},Ce={loggedUser:null},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return localStorage.setItem("name",t.payload.response.name),localStorage.setItem("token",t.payload.response.token),localStorage.setItem("id",t.payload.response.id),localStorage.setItem("pic",t.payload.response.pic),Object(g.a)(Object(g.a)({},e),{},{loggedUser:t.payload.response});case"LOG_OUT":return localStorage.clear(),Object(g.a)(Object(g.a)({},e),{},{loggedUser:null});default:return e}},ke={itinerariesByCity:[]},we=function(e,t){return e.map((function(e){return e._id===t._id&&(e=t),e}))},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITINERARIES_BY_CITY":return Object(g.a)(Object(g.a)({},e),{},{itinerariesByCity:t.payload});case"UPDATE_ITINERARIES":var n=we(e.itinerariesByCity,t.payload);return Object(g.a)(Object(g.a)({},e),{},{itinerariesByCity:n});default:return e}},Re=Object(ge.c)({cityReducer:Ne,itineraryReducer:Se,userReducer:Ie}),Ue=Object(ge.d)(Re,Object(ge.a)(ye.a));a.a.render(Object(r.jsx)(f.a,{store:Ue,children:Object(r.jsx)(fe,{})}),document.getElementById("root"))},79:function(e,t,n){},80:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.f0eabb97.chunk.js.map